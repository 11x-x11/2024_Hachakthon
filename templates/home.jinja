{% extends "base.jinja" %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
{% endblock %}

{% block title %}Home{% endblock %}

{% block content %}
    <!-- Add the text logo at the top-left corner -->
    <div class="header-container">
        <div class="logo">Swap</div>
        <div class="profile-icon">
            {% if user.profile_image %}
                <a href="{{ url_for('profile') }}">
                    <img src="data:image/jpeg;base64,{{ user.profile_image.decode('utf-8') }}" alt="Profile Image"
                         style="width: 50px; height: 50px; border-radius: 50%;">
                </a>
            {% else %}
                <a href="{{ url_for('profile') }}">
                    <img src="{{ url_for('static', filename='default_profile_icon.png') }}" alt="Profile Icon"
                         style="width: 50px; height: 50px; border-radius: 50%;">
                </a>
            {% endif %}
        </div>
    </div>

    <!-- Navigation Tabs -->
    <div class="tab">
        <button class="tablinks" onclick="openTab(event, 'Home')" id="defaultOpen">HOME</button>
        <button class="tablinks" onclick="openTab(event, 'Skill List')">SKILLS</button>
        <button class="tablinks" onclick="openTab(event, 'Knowledge Repository')">Knowledge Repo</button>
        <button class="tablinks" onclick="openTab(event, 'Chat')">CHAT</button>
        <button class="tablinks" onclick="openTab(event, 'Friend List')">FRIENDS</button>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="tabcontent" id="Home">
            <div class="content-box">
                <h2>Welcome, {{ username }}!</h2>
                <p>This is your personal home page.</p>
                <a href="{{ url_for('logout') }}">Logout</a>
            </div>
        </div>

        <div class="tabcontent" id="Skill List">
            <!-- Content for Skill List -->
        </div>

        <div class="tabcontent" id="Knowledge Repository">
            <!-- Content for Knowledge Repository -->
        </div>

        <div class="tabcontent" id="Chat">
            <!-- Content for Chat -->
        </div>

        <div class="tabcontent" id="Friend List">
            <!-- Content for Friend List -->
        </div>
    </div>

    <!-- Guide Container -->
    <div id="guide-container" style="display: none;">
        <div id="guide-content">
            <p id="guide-text"></p>
            <button id="guide-next-btn">Next</button>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 . All rights reserved.</p>
    </footer>

    <script src="{{ url_for('static', filename='js/home.js') }}" defer></script>
{% endblock %}
