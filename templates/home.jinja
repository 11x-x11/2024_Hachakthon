{% extends "base.jinja" %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
{% endblock %}

{% block title %}Home{% endblock %}

{% block content %}
    <!-- Add the text logo at the top-left corner -->
    <div class="header-container">
        <div class="logo">Swap</div>
        <div class="profile-icon">
            {% if user.profile_image %}
                <a href="{{ url_for('profile') }}">
                    <img src="data:image/jpeg;base64,{{ user.profile_image.decode('utf-8') }}" alt="Profile Image"
                         style="width: 50px; height: 50px; border-radius: 50%;">
                </a>
            {% else %}
                <a href="{{ url_for('profile') }}">
                    <img src="{{ url_for('static', filename='default_profile_icon.png') }}" alt="Profile Icon" 
                         style="width: 50px; height: 50px; border-radius: 50%;">
                </a>
            {% endif %}
        </div>
    </div>
    <!-- Navigation Tabs -->
    <div class="tab">
        <button class="tablinks" onclick="openTab(event, 'Home')" id="defaultOpen">HOME</button>
        <button class="tablinks" onclick="openTab(event, 'Skill List')">SKILLS</button>
        <button class="tablinks" onclick="openTab(event, 'Knowledge Repository')">KNOWLEDGE</button>
        <button class="tablinks" onclick="openTab(event, 'Chat')">CHAT</button>
        <button class="tablinks" onclick="openTab(event, 'Friend List')">FRIENDS</button>
    </div>

<div class="main-content">
    <div class="tabcontent" id="Home">
        <div class="content-box">
            <!-- Left section with the image and welcome message -->
            <div class="left-section">
                <!-- Display the homepage image -->
                <img src="{{ url_for('static', filename='images/homepage.png') }}" alt="Home Image" class="homepage-image">

                <!-- Welcome message -->
                <h2>Welcome, {{ username }}!</h2>
                <p>Connect with these potential skill exchange partners:</p>
            </div>
        </div>

        <div class="tabcontent" id="Skill List">
            <div class="skill-list-container">
                {% for category in categories %}
                    <div class="category-column">
                        <h3>{{ category.name }}</h3>
                        <ul>
                            {% for skill in category.skills %}
                                <li><a href="#" class="skill-link" data-skill-id="{{ skill.id }}">{{ skill.name }}</a></li>
                            {% endfor %}
                        </ul>
                    </div>
                    {% if loop.index % 5 == 0 %}
                        </div><div class="skill-list-container">
                    {% endif %}
                {% endfor %}
            </div>
        </div>

            <!-- Right section with the recommended people boxes -->
            <div class="right-section">
                <div class="people-grid">
                    <div class="person-box">Person 1</div>
                    <div class="person-box">Person 2</div>
                    <div class="person-box">Person 3</div>
                    <div class="person-box">Person 4</div>
                </div>
            </div>
        </div>
    </div>
</div>


    <footer>
        <p>&copy; 2024 . All rights reserved.</p>
    </footer>

    <script src="{{ url_for('static', filename='js/home.js') }}" defer></script>
{% endblock %}
